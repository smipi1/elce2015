
CONFIG_NET_SMALL reduce MAX_INET_PROTOS


 include/net/protocol.h |    5 	4 +	1 -	0 !
 1 files changed, 4 insertions(+), 1 deletion(-)

Index: linux-2.6.23-rc9/include/net/protocol.h
===================================================================
--- linux-2.6.23-rc9.orig/include/net/protocol.h	2007-07-09 01:32:17.000000000 +0200
+++ linux-2.6.23-rc9/include/net/protocol.h	2007-10-08 23:52:27.000000000 +0200
@@ -29,8 +29,11 @@
 #include <linux/ipv6.h>
 #endif
 
+#ifdef CONFIG_NET_SMALL
+#define MAX_INET_PROTOS 32
+#else
 #define MAX_INET_PROTOS	256		/* Must be a power of 2		*/
-
+#endif
 
 /* This is used to register protocols. */
 struct net_protocol {
