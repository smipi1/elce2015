
configurable shell script support


 fs/Makefile  |    5 	1 +	4 -	0 !
 init/Kconfig |    6 	6 +	0 -	0 !
 2 files changed, 7 insertions(+), 4 deletions(-)

Index: linux-2.6.23-rc9/fs/Makefile
===================================================================
--- linux-2.6.23-rc9.orig/fs/Makefile	2007-10-08 23:52:33.000000000 +0200
+++ linux-2.6.23-rc9/fs/Makefile	2007-10-09 00:24:18.000000000 +0200
@@ -36,10 +36,7 @@
 obj-$(CONFIG_BINFMT_AOUT)	+= binfmt_aout.o
 obj-$(CONFIG_BINFMT_EM86)	+= binfmt_em86.o
 obj-$(CONFIG_BINFMT_MISC)	+= binfmt_misc.o
-
-# binfmt_script is always there
-obj-y				+= binfmt_script.o
-
+obj-$(CONFIG_BINFMT_SCRIPT)	+= binfmt_script.o
 obj-$(CONFIG_BINFMT_ELF)	+= binfmt_elf.o
 obj-$(CONFIG_BINFMT_ELF_FDPIC)	+= binfmt_elf_fdpic.o
 obj-$(CONFIG_BINFMT_SOM)	+= binfmt_som.o
Index: linux-2.6.23-rc9/init/Kconfig
===================================================================
--- linux-2.6.23-rc9.orig/init/Kconfig	2007-10-09 00:24:18.000000000 +0200
+++ linux-2.6.23-rc9/init/Kconfig	2007-10-09 00:29:48.000000000 +0200
@@ -722,6 +722,12 @@
 	  This enables support for font mapping and Unicode translation
           on virtual consoles.
 
+config BINFMT_SCRIPT
+	default y
+	bool "Enable support for executable shell scripts" if EMBEDDED
+	help
+	  Enable support for standard #!-style shell scripts.
+
 endmenu		# General setup
 
 config RT_MUTEXES
