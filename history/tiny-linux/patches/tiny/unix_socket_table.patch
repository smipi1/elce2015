
CONFIG_NET_SMALL shrink AF_UNIX socket hash


 tiny-mpm/include/net/af_unix.h |    4 ++++
 1 files changed, 4 insertions(+)

Index: linux-2.6.23-rc9/include/net/af_unix.h
===================================================================
--- linux-2.6.23-rc9.orig/include/net/af_unix.h	2007-10-08 23:51:25.000000000 +0200
+++ linux-2.6.23-rc9/include/net/af_unix.h	2007-10-08 23:52:27.000000000 +0200
@@ -10,7 +10,11 @@
 extern void unix_notinflight(struct file *fp);
 extern void unix_gc(void);
 
+#ifdef CONFIG_NET_SMALL
+#define UNIX_HASH_SIZE	16
+#else
 #define UNIX_HASH_SIZE	256
+#endif
 
 extern atomic_t unix_tot_inflight;
 
